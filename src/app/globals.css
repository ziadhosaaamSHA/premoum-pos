@import "tailwindcss";

@theme {
  --color-bg: #f7f3ee;
  --color-bg-accent-1: #fff1d6;
  --color-bg-accent-2: #d7f2ef;
  --color-card: #ffffff;
  --color-ink: #1b1b1b;
  --color-muted: #6b6b6b;
  --color-accent: #e06d4c;
  --color-accent-dark: #c04d2e;
  --color-accent-2: #2f8f83;
  --color-border: #e6e1db;
  --color-topbar: transparent;
  --color-topbar-ink: #1b1b1b;
  --color-table-head: #fbfaf8;
  --color-table-head-ink: #6b6b6b;
  --color-sidebar: #1f2a2b;
  --color-sidebar-ink: #f6f3ef;
  --color-hover-subtle: rgba(0, 0, 0, 0.06);
  --color-danger-border: rgba(220, 38, 38, 0.26);
  --color-danger-bg: rgba(254, 226, 226, 0.78);
  --color-danger-bg-soft: rgba(254, 242, 242, 0.9);
  --color-danger-ink: #b91c1c;
  --color-warning-border: rgba(217, 119, 6, 0.24);
  --color-warning-bg: rgba(254, 243, 199, 0.78);
  --color-warning-ink: #92400e;
  --color-info-border: rgba(2, 132, 199, 0.24);
  --color-info-bg: rgba(224, 242, 254, 0.78);
  --color-info-ink: #075985;
  --shadow-card: 0 20px 40px rgba(17, 17, 17, 0.08);
  --shadow-soft: 0 8px 24px rgba(0, 0, 0, 0.06);
  --radius-control: 14px;
  --app-bg: radial-gradient(circle at 100% 0, #fff1d6 0%, #f7f3ee 40%),
    radial-gradient(circle at 0 100%, #d7f2ef 0%, #f7f3ee 45%);
}

:root[data-theme="dark"] {
  color-scheme: dark;
  --color-bg: #0f1114;
  --color-bg-accent-1: #141a20;
  --color-bg-accent-2: #10151a;
  --color-card: #151a20;
  --color-ink: #f3f4f6;
  --color-muted: #a9b0b7;
  --color-border: #2a3036;
  --color-topbar: transparent;
  --color-topbar-ink: #f3f4f6;
  --color-table-head: #131820;
  --color-table-head-ink: #a9b0b7;
  --color-sidebar: #0f141a;
  --color-sidebar-ink: #f3f4f6;
  --color-hover-subtle: rgba(255, 255, 255, 0.08);
  --color-danger-border: rgba(248, 113, 113, 0.38);
  --color-danger-bg: rgba(127, 29, 29, 0.3);
  --color-danger-bg-soft: rgba(127, 29, 29, 0.2);
  --color-danger-ink: #fecaca;
  --color-warning-border: rgba(251, 191, 36, 0.34);
  --color-warning-bg: rgba(120, 53, 15, 0.3);
  --color-warning-ink: #fcd34d;
  --color-info-border: rgba(56, 189, 248, 0.34);
  --color-info-bg: rgba(12, 74, 110, 0.3);
  --color-info-ink: #7dd3fc;
  --shadow-card: 0 18px 40px rgba(0, 0, 0, 0.45);
  --shadow-soft: 0 10px 24px rgba(0, 0, 0, 0.35);
  --app-bg: radial-gradient(circle at 100% 0, #1b2229 0%, #0f1114 45%),
    radial-gradient(circle at 0 100%, #101820 0%, #0f1114 55%);
}

@layer base {
  * {
    @apply box-border;
  }

  body {
    @apply text-ink antialiased;
    font-family: var(--font-cairo), var(--font-readex), sans-serif;
    background: var(--app-bg);
  }

  body.no-scroll {
    overflow: hidden;
  }

  h1 {
    @apply text-2xl font-bold;
  }

  h2 {
    @apply text-xl font-semibold;
  }

  h3 {
    @apply text-lg font-semibold;
  }

  table {
    @apply w-full border-separate border-spacing-0 text-sm;
  }

  th {
    @apply text-right font-semibold px-4 py-3 border-b border-border sticky top-0;
    background: var(--color-table-head);
    color: var(--color-table-head-ink);
  }

  td {
    @apply px-4 py-3 border-b border-border;
  }
}

@layer components {
  .app {
    @apply grid h-screen min-h-dvh overflow-hidden transition-all duration-200;
    grid-template-columns: 280px 1fr;
  }

  .app.sidebar-collapsed {
    grid-template-columns: 92px 1fr;
  }

  .sidebar {
    @apply bg-sidebar text-sidebar-ink p-8 flex flex-col gap-6 h-screen overflow-y-auto relative z-50;
  }

  .sidebar.open {
    @apply translate-x-0;
  }

  .sidebar.collapsed {
    @apply p-6;
  }

  .sidebar-header {
    @apply flex items-center justify-between gap-3;
  }

  .brand {
    @apply flex items-center gap-3 text-2xl font-extrabold tracking-wide;
  }

  .brand-logo {
    @apply w-10 h-10 rounded-xl object-cover bg-white/10;
  }

  .brand-avatar {
    @apply w-10 h-10 rounded-xl bg-white/15 text-white flex items-center justify-center text-lg;
  }

  .brand-mini {
    @apply hidden;
  }

  .sidebar.collapsed .brand-full {
    @apply hidden;
  }

  .sidebar.collapsed .brand-mini {
    @apply inline-block;
  }

  .sidebar.collapsed .sidebar-header {
    @apply justify-center;
  }

  .sidebar.collapsed .collapse-btn {
    @apply absolute top-4 left-3;
  }

  .sidebar.collapsed .nav-item {
    @apply justify-center px-2;
  }

  .sidebar.collapsed .nav-item span {
    @apply hidden;
  }

  .sidebar.collapsed .nav-item i {
    @apply text-xl;
  }

  .sidebar.collapsed .collapse-btn i {
    @apply rotate-180;
  }

  .sidebar-footer {
    @apply mt-auto;
  }

  .sidebar-footnote {
    @apply text-xs text-white/70 leading-relaxed;
  }

  .nav {
    @apply grid gap-2;
  }

  .nav-item {
    @apply flex items-center gap-3 rounded-lg px-4 py-3 text-sidebar-ink/80 transition-all;
  }

  .nav-item i {
    @apply text-lg w-5 flex justify-center;
  }

  .nav-item:hover,
  .nav-item.active {
    @apply bg-white/10 text-white;
    transform: translateX(-4px);
  }

  .sidebar.collapsed .nav-item:hover,
  .sidebar.collapsed .nav-item.active {
    transform: none;
  }

  .sidebar-overlay {
    @apply fixed inset-0 bg-black/40 opacity-0 pointer-events-none transition-opacity duration-200 z-40;
  }

  .sidebar-overlay.open {
    @apply opacity-100 pointer-events-auto;
  }

  .content {
    @apply w-full h-screen min-h-dvh overflow-y-auto p-10 mx-auto;
    max-width: 1400px;
    background: var(--app-bg);
  }

  .auth-shell {
    @apply min-h-dvh w-full flex items-center justify-center p-6;
    background: var(--app-bg);
  }

  .setup-shell {
    @apply min-h-dvh w-full flex items-center justify-center p-8;
    background: var(--app-bg);
  }

  .setup-card {
    @apply w-full max-w-5xl flex flex-col gap-6;
  }

  .setup-header {
    @apply flex flex-wrap items-center justify-between gap-4;
  }

  .setup-counter {
    @apply text-xs text-muted font-semibold;
  }

  .setup-progress {
    @apply grid gap-3;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  }

  .setup-step {
    @apply flex items-center gap-3 border border-border bg-card/70 p-3;
    border-radius: 16px;
  }

  .setup-step span {
    @apply w-8 h-8 rounded-full bg-card text-muted border border-border flex items-center justify-center font-semibold;
  }

  .setup-step.active span {
    @apply bg-accent text-white border-accent;
  }

  .setup-step p {
    @apply text-sm font-semibold m-0;
  }

  .setup-actions {
    @apply mt-4 flex items-center justify-end gap-3;
  }

  .setup-summary {
    @apply grid gap-4 mt-4;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }

  .setup-summary strong {
    @apply text-sm;
  }

  .setup-summary p {
    @apply text-base font-semibold m-0;
  }

  .setup-intro {
    @apply flex flex-col gap-4;
  }

  .setup-hero {
    @apply grid gap-4 items-start;
    grid-template-columns: minmax(0, 1fr) 280px;
  }

  .setup-hero-copy {
    @apply flex flex-col gap-3;
  }

  .setup-kicker {
    @apply text-xs font-semibold uppercase tracking-wide text-accent bg-accent/10 px-3 py-1 rounded-full w-fit;
  }

  .setup-hero-side {
    @apply flex flex-col gap-3;
  }

  .setup-hero-card {
    @apply bg-card/80 border border-border p-4;
    border-radius: 16px;
  }

  .setup-hero-card.accent {
    @apply border-accent/40 bg-accent/10;
  }

  .setup-list {
    @apply grid gap-2 text-sm text-muted;
  }

  .setup-owner-form {
    @apply flex flex-col gap-4;
  }

  .setup-owner-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .auth-card {
    @apply w-full max-w-md bg-card border border-border p-7 flex flex-col gap-5;
    border-radius: 20px;
    box-shadow: var(--shadow-card);
  }

  .auth-brand h1 {
    @apply text-2xl font-bold mb-1;
  }

  .auth-brand p {
    @apply text-sm text-muted;
  }

  .auth-error {
    @apply text-sm text-red-600 bg-red-50 border border-red-200 px-3 py-2;
    border-radius: var(--radius-control);
  }

  .invite-summary {
    @apply border border-border bg-bg/60 p-4 grid gap-2;
    border-radius: 16px;
  }

  .topbar {
    @apply flex items-center justify-between gap-6 mb-10 px-5 py-4;
    background: var(--color-topbar);
    color: var(--color-topbar-ink);
    border-radius: 20px;
    border: none;
    box-shadow: none;
  }

  .topbar-title {
    @apply flex items-center gap-3;
  }

  .topbar-title p {
    @apply text-sm;
    color: var(--color-topbar-ink);
    opacity: 0.7;
  }

  .topbar-actions {
    @apply flex items-center gap-4;
  }

  .top-actions {
    @apply flex items-center gap-3;
  }

  .user-actions {
    @apply flex items-center gap-3;
  }

  .icon-btn {
    @apply inline-flex items-center justify-center border border-transparent text-muted transition;
    border-radius: var(--radius-control);
  }

  .icon-btn:hover {
    @apply text-accent bg-black/5;
  }

  .topbar .icon-btn {
    color: var(--color-topbar-ink);
  }

  .topbar .icon-btn:hover {
    background: rgba(0, 0, 0, 0.06);
    color: var(--color-topbar-ink);
  }

  .menu-btn {
    @apply hidden border border-border bg-card w-11 h-11;
  }

  .collapse-btn {
    @apply border border-white/20 bg-white/5 text-white;
  }

  .sticky-actions {
    @apply hidden items-center gap-4 sticky top-3 z-30 bg-bg/95 backdrop-blur px-3 py-2 rounded-2xl border border-border/70 mb-4;
    box-shadow: var(--shadow-soft);
  }

  .sticky-actions .menu-btn {
    @apply inline-flex;
  }

  .notif-btn {
    @apply relative border border-border bg-card w-12 h-12;
  }

  .notif-count {
    @apply absolute -top-2 -right-2 bg-red-500 text-white text-[10px] rounded-full px-1.5 py-0.5;
    min-width: 18px;
    text-align: center;
  }

  .notif-menu,
  .profile-menu {
    @apply relative max-w-full;
  }

  .notif-dropdown,
  .profile-dropdown {
    @apply absolute bg-card border border-border rounded-2xl p-3 hidden z-20;
    width: min(360px, 92vw);
    box-shadow: var(--shadow-card);
  }

  .notif-menu.open .notif-dropdown,
  .profile-menu.open .profile-dropdown {
    @apply block;
  }

  .notif-dropdown {
    @apply mt-2;
    inset-inline-end: 0;
    inset-inline-start: auto;
    transform: none;
  }

  .notif-header {
    @apply flex flex-wrap items-center justify-between gap-2 mb-2;
  }

  .notif-actions {
    @apply flex flex-wrap items-center gap-2;
  }

  .notif-action-btn {
    @apply px-3 py-1 text-xs border border-border bg-card transition;
    border-radius: 999px;
  }

  .notif-action-btn:hover {
    background: var(--color-hover-subtle);
  }

  .notif-action-btn:disabled {
    @apply opacity-60 cursor-not-allowed;
  }

  .notif-action-btn.danger {
    border-color: var(--color-danger-border);
    color: var(--color-danger-ink);
    background: var(--color-danger-bg-soft);
  }

  .notif-meta {
    @apply text-xs text-muted mb-2;
  }

  .notification-toolbar {
    @apply flex flex-wrap items-center gap-3;
  }

  .notification-list {
    @apply grid gap-3;
  }

  .alerts-scroll {
    @apply max-h-[55vh] overflow-y-auto pr-1;
  }

  .profile-btn {
    @apply flex items-center gap-3 bg-card border border-border px-3 py-2 min-w-[210px];
    border-radius: var(--radius-control);
  }

  .profile-meta {
    @apply text-right grid;
  }

  .profile-name {
    @apply font-semibold;
  }

  .profile-role {
    @apply text-xs text-muted;
  }

  .profile-dropdown {
    @apply mt-2 min-w-[220px] max-w-[calc(100vw-2rem)] overflow-auto;
    inset-inline-end: 0;
    inset-inline-start: auto;
  }

  .profile-item {
    @apply flex items-center gap-2 w-full text-right px-3 py-2 rounded-lg transition;
  }

  .profile-item:hover {
    background: var(--color-hover-subtle);
  }

  .profile-item.danger {
    color: var(--color-danger-ink);
  }

  .avatar {
    @apply w-10 h-10 rounded-full bg-accent text-white flex items-center justify-center font-bold;
  }

  .avatar-img {
    @apply w-10 h-10 rounded-full object-cover;
  }

  .card {
    @apply bg-card p-6 mb-8;
    border-radius: 18px;
    box-shadow: var(--shadow-card);
  }

  .card.wide {
    @apply w-full;
  }

  .page {
    @apply flex flex-col gap-6;
  }

  .section-header-actions {
    @apply flex flex-wrap items-start justify-between gap-4 mb-5;
  }

  .section-header-actions>h2 {
    @apply m-0 leading-tight;
  }

  .section-header-actions .table-toolbar {
    margin-inline-start: auto;
  }

  .filter-group {
    @apply flex items-center gap-3;
  }

  .kpis {
    @apply grid gap-4 mb-8;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }

  .kpis-3 {
    grid-template-columns: repeat(3, minmax(200px, 1fr));
  }

  .kpis.kpis-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .kpi {
    @apply bg-card rounded-xl p-5 flex flex-col gap-1;
    box-shadow: var(--shadow-card);
  }

  .kpi span {
    @apply text-sm text-muted;
  }

  .kpi strong {
    @apply text-xl font-bold;
  }

  .grid {
    @apply grid gap-6 mb-6;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  }

  .list {
    @apply flex flex-col gap-3;
  }

  .row-line {
    @apply flex items-start justify-between gap-4 text-sm;
  }

  .row-line span {
    @apply text-muted;
    flex-shrink: 0;
  }

  .row-line strong {
    @apply text-left;
    max-width: 70%;
    overflow-wrap: anywhere;
  }

  .search-bar-wrapper {
    @apply flex items-center gap-2 bg-card border border-border px-3;
    border-radius: var(--radius-control);
    min-width: 260px;
  }

  .table-search {
    @apply w-full bg-transparent py-2 text-sm outline-none;
  }

  .badge {
    @apply inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold;
  }

  .badge.ok {
    @apply bg-emerald-100 text-emerald-700;
  }

  .badge.warn {
    @apply bg-amber-100 text-amber-700;
  }

  .badge.danger {
    border: 1px solid var(--color-danger-border);
    background: var(--color-danger-bg-soft);
    color: var(--color-danger-ink);
  }

  .badge.neutral {
    @apply bg-slate-100 text-slate-600;
  }

  .alerts-grid {
    @apply grid gap-3;
  }

  .alert-card {
    @apply flex items-start gap-3 bg-card border border-border rounded-xl p-4;
    position: relative;
  }

  .alert-card.low_stock {
    border-color: var(--color-warning-border);
    background: var(--color-warning-bg);
  }

  .alert-card.warning {
    border-color: var(--color-danger-border);
    background: var(--color-danger-bg);
  }

  .alert-card.info {
    border-color: var(--color-info-border);
    background: var(--color-info-bg);
  }

  .alert-icon {
    @apply w-10 h-10 rounded-xl bg-accent text-white flex items-center justify-center;
  }

  .alert-content strong {
    @apply block font-semibold mb-1;
  }

  .alert-content p {
    @apply text-sm text-muted;
  }

  .alert-content {
    padding-inline-end: 28px;
  }

  .alert-title-row {
    @apply flex items-center justify-between gap-3;
  }

  .alert-dismiss {
    @apply absolute text-muted w-7 h-7 rounded-full flex items-center justify-center transition;
    inset-inline-end: 10px;
    top: 10px;
  }

  .alert-dismiss:hover {
    background: var(--color-danger-bg-soft);
    color: var(--color-danger-ink);
  }

  .alert-time {
    @apply text-xs text-muted mt-1 block;
  }

  .alert-empty {
    @apply text-sm text-muted;
  }

  .muted {
    @apply text-xs text-muted;
  }

  .report-grid {
    @apply grid gap-4 mb-8;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .report-card {
    @apply bg-card border border-border p-5 flex flex-col gap-2;
    border-radius: 18px;
    box-shadow: var(--shadow-card);
  }

  .report-card h3 {
    @apply text-sm text-muted font-semibold m-0;
  }

  .report-card p {
    @apply text-2xl font-bold m-0;
  }

  .subtabs {
    @apply flex flex-wrap gap-3 mb-4;
  }

  .subtab {
    @apply flex items-center gap-2 px-4 py-2 border border-border bg-card text-sm transition;
    border-radius: var(--radius-control);
  }

  .subtab.active {
    @apply bg-accent text-white border-accent;
  }

  .subtab-panel {
    @apply hidden;
  }

  .subtab-panel.active {
    @apply block;
  }

  .pos-page {
    --pos-shell-height: calc(100dvh - 210px);
    min-height: var(--pos-shell-height);
  }

  .pos-layout {
    @apply grid gap-6;
    grid-template-columns: minmax(0, 1.2fr) minmax(460px, 0.8fr);
    height: var(--pos-shell-height);
    min-height: 580px;
  }

  .menu-panel {
    @apply flex flex-col gap-4 h-full min-h-0;
  }

  .pos-panel {
    @apply bg-card rounded-xl p-6 h-full min-h-0;
    box-shadow: var(--shadow-card);
  }

  .pos-toolbar {
    @apply flex flex-wrap items-center gap-4 mb-4;
  }

  .order-types {
    @apply flex items-center gap-2;
  }

  .pill-group,
  .order-types {
    @apply flex flex-wrap items-center gap-2;
  }

  .pill {
    @apply px-4 py-2 border border-border bg-card text-sm transition;
    border-radius: var(--radius-control);
  }

  .pill.active {
    @apply bg-accent text-white border-accent;
  }

  .pos-categories {
    @apply flex flex-nowrap gap-2 overflow-x-auto pb-1;
    scrollbar-width: thin;
  }

  .scroll-x {
    @apply overflow-x-auto;
  }

  .scroll-x::-webkit-scrollbar {
    height: 6px;
  }

  .scroll-x::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 999px;
  }

  .chip {
    @apply px-4 py-2 border border-border bg-card text-sm transition;
    border-radius: var(--radius-control);
    white-space: nowrap;
  }

  .chip.active {
    @apply bg-accent-2 text-white border-accent-2;
  }

  .pos-items-stage {
    @apply relative flex-1 min-h-0 overflow-hidden;
  }

  .pos-products-scroll {
    @apply h-full overflow-y-auto pr-2;
  }

  .pos-quick-options {
    @apply border-t border-border/70 pt-3;
  }

  .quick-actions-grid {
    @apply grid gap-3;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  }

  .quick-action {
    --quick-accent: #4f6df0;
    @apply border px-3 py-3 inline-flex items-center justify-center gap-2 font-semibold transition;
    flex-direction: column;
    min-height: 86px;
    color: var(--color-ink);
    background: linear-gradient(
      165deg,
      color-mix(in oklab, var(--quick-accent) 14%, var(--color-card) 86%),
      var(--color-card)
    );
    border-color: color-mix(in oklab, var(--quick-accent) 24%, var(--color-border) 76%);
    border-radius: var(--radius-control);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.16);
  }

  .quick-action-icon {
    width: 34px;
    height: 34px;
    border-radius: 10px;
    background: var(--quick-accent);
    color: #fff;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 8px 18px color-mix(in oklab, var(--quick-accent) 36%, transparent);
  }

  .quick-action-icon i {
    @apply text-base;
  }

  .quick-action-label {
    @apply text-sm font-semibold;
    line-height: 1.2;
    text-align: center;
  }

  .quick-action.qa-busy {
    --quick-accent: #4f6df0;
  }

  .quick-action.qa-new {
    --quick-accent: #1bb67b;
  }

  .quick-action.qa-undo {
    --quick-accent: #ec4f7a;
  }

  .quick-action.qa-expense {
    --quick-accent: #f4a62a;
  }

  .quick-action:hover {
    transform: translateY(-1px);
    box-shadow: 0 10px 24px color-mix(in oklab, var(--quick-accent) 26%, transparent);
  }

  .busy-tables-drawer {
    @apply absolute left-0 right-0 bottom-0 border border-border bg-card rounded-2xl p-4 opacity-0 pointer-events-none;
    height: 80%;
    transform: translateY(14px);
    transition: opacity 0.2s ease, transform 0.25s ease;
    box-shadow: var(--shadow-card);
    z-index: 8;
  }

  .busy-tables-drawer.open {
    @apply opacity-100 pointer-events-auto;
    transform: translateY(0);
  }

  .busy-drawer-header {
    @apply flex items-center justify-between gap-3 mb-3;
  }

  .busy-drawer-header h3 {
    @apply text-base m-0;
  }

  .busy-drawer-list {
    @apply flex flex-col gap-2 overflow-y-auto pr-1;
    max-height: calc(100% - 44px);
  }

  .busy-table-item {
    @apply w-full text-right border border-border bg-card px-3 py-3 flex flex-col gap-1;
    border-radius: var(--radius-control);
  }

  .busy-table-item span {
    @apply text-xs text-muted;
  }

  .busy-table-item.active {
    @apply border-accent bg-accent/10;
  }

  .pos-active-order-note {
    @apply mb-4 border border-accent/30 bg-accent/10 rounded-xl px-3 py-2 flex flex-col gap-1;
  }

  .pos-active-order-note strong {
    @apply text-sm;
  }

  .pos-active-order-note span {
    @apply text-xs text-muted;
  }

  .product-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    grid-auto-rows: 210px;
    align-content: start;
  }

  .product-card {
    @apply bg-card border border-border rounded-xl p-4 text-right flex flex-col gap-2 transition;
    height: 100%;
  }

  .product-card:hover {
    box-shadow: var(--shadow-soft);
  }

  .product-card.disabled,
  .product-card:disabled {
    @apply opacity-60 cursor-not-allowed;
    box-shadow: none;
  }

  .product-card.disabled .product-thumb,
  .product-card:disabled .product-thumb {
    @apply bg-gray-100;
  }

  .product-thumb {
    @apply w-full h-28 rounded-xl overflow-hidden;
    background: linear-gradient(135deg, rgba(224, 109, 76, 0.14), rgba(47, 143, 131, 0.14));
  }

  .product-thumb-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .product-thumb-placeholder {
    width: 100%;
    height: 100%;
    background: rgba(211, 211, 211, 0.846);
  }

  .product-name {
    @apply font-semibold;
  }

  .product-meta {
    @apply flex flex-col text-xs text-muted;
  }

  .product-status {
    @apply text-xs text-red-600;
  }

  .product-price {
    @apply text-ink font-semibold;
  }

  .product-cost {
    @apply text-xs text-muted;
  }

  .product-action {
    @apply mt-auto inline-flex items-center justify-between border border-border px-3 py-2 text-xs text-muted bg-card;
    border-radius: var(--radius-control);
  }

  .product-card.disabled .product-action,
  .product-card:disabled .product-action {
    @apply bg-gray-50;
  }

  .cart-panel {
    @apply bg-card rounded-xl p-6 flex flex-col min-h-0;
    box-shadow: var(--shadow-card);
  }

  .cart-header {
    @apply flex items-center justify-between mb-4;
  }

  .cart-scroll-zone {
    @apply flex-1 min-h-0 overflow-y-auto pr-1;
  }

  .cart-list {
    @apply flex flex-col gap-3 mb-4;
  }

  .cart-item {
    @apply flex items-center justify-between gap-3 bg-card border border-border rounded-xl p-3;
  }

  .cart-item-name {
    @apply font-semibold;
  }

  .cart-item-meta {
    @apply text-xs text-muted;
  }

  .qty-control {
    @apply flex items-center gap-2;
  }

  .qty-btn {
    @apply w-8 h-8 border border-border bg-card;
    border-radius: var(--radius-control);
  }

  .qty-value {
    @apply min-w-[24px] text-center;
  }

  .cart-options {
    @apply flex flex-col gap-4 mb-4;
  }

  .field {
    @apply flex flex-col gap-2;
  }

  .field-title {
    @apply flex items-center justify-between gap-2;
  }

  .field label {
    @apply text-sm text-muted;
  }

  .action-btn.compact {
    @apply w-8 h-8;
  }

  .field input,
  .field select,
  .form input:not([type="checkbox"]):not([type="radio"]),
  .form select,
  .form textarea {
    @apply w-full border border-border px-3 py-2 text-sm bg-card;
    border-radius: var(--radius-control);
  }

  .delivery-options {
    @apply flex flex-col gap-2;
  }

  .hidden {
    @apply hidden;
  }

  .cart-summary {
    @apply border-t border-border pt-4 flex flex-col gap-3;
  }

  .summary-row {
    @apply flex items-center justify-between text-sm;
  }

  .summary-row.highlight {
    @apply text-base font-semibold;
  }

  .orders-filter {
    @apply flex flex-wrap items-center gap-3 mb-4;
  }

  .table-toolbar {
    @apply flex flex-wrap items-center gap-3;
  }

  .table-actions-export {
    @apply flex items-center gap-2;
  }

  .table-actions-export .ghost {
    @apply px-3 py-2 text-sm;
  }

  .select-filter {
    @apply px-3 py-2 border border-border bg-card text-sm;
    border-radius: var(--radius-control);
  }

  .table-actions {
    @apply flex items-center gap-2;
  }

  .action-btn {
    @apply inline-flex items-center justify-center w-9 h-9 border border-border bg-card text-muted transition;
    border-radius: var(--radius-control);
  }

  .action-btn.view {
    @apply text-emerald-600;
  }

  .action-btn.edit {
    @apply text-amber-600;
  }

  .action-btn.print {
    @apply text-blue-600;
  }

  .action-btn.delete {
    @apply text-red-500;
  }

  .action-btn.approve {
    @apply text-blue-600;
  }

  .action-btn:disabled {
    @apply opacity-40 cursor-not-allowed;
  }

  .table-grid {
    @apply grid gap-4 mb-6;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  }

  .table-card {
    @apply bg-card border border-border p-4 flex flex-col items-center justify-center gap-2 transition text-center;
    border-radius: 16px;
  }

  .table-card i {
    @apply text-3xl text-accent;
  }

  .table-card.occupied {
    @apply border-accent bg-accent/10;
  }

  .table-card.empty {
    @apply border-border bg-card;
  }

  .table-card strong {
    @apply text-base font-semibold;
  }

  .table-card span {
    @apply text-xs text-muted;
  }

  .status-row.preparing td {
    @apply bg-amber-50;
  }

  .status-row.ready td {
    @apply bg-emerald-50;
  }

  .status-row.out td {
    @apply bg-blue-50;
  }

  .status-row.delivered td {
    @apply bg-slate-50;
  }

  .sales-insights {
    @apply grid gap-4 mb-6;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .profit-panel {
    @apply grid gap-5 mt-3;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  }

  .profit-card {
    @apply bg-card border border-border p-6 flex flex-col gap-3;
    border-radius: 18px;
    min-height: 164px;
  }

  .profit-card h3 {
    @apply text-sm text-muted m-0;
  }

  .profit-card strong {
    @apply text-2xl leading-tight;
  }

  .progress-bar {
    @apply w-full h-2 rounded-full bg-border overflow-hidden;
  }

  .progress-bar span {
    @apply block h-full bg-accent;
  }

  .shift-timer {
    @apply flex items-center gap-2 bg-card border border-border rounded-xl px-3 py-2 text-sm;
  }

  .shift-controls {
    @apply flex flex-wrap items-center gap-2;
  }

  .shift-controls .primary,
  .shift-controls .ghost {
    @apply rounded-xl px-3 py-2 text-sm;
  }

  .cart-actions {
    @apply flex flex-wrap gap-3 mt-4;
  }

  .tracking-board {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .tracking-column {
    @apply bg-card border border-border rounded-xl p-4;
  }

  .tracking-card {
    @apply bg-bg rounded-xl p-3 flex flex-col gap-2 border border-border;
  }

  .status-pill {
    @apply inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold;
  }

  .status-pill.preparing {
    @apply bg-amber-100 text-amber-700;
  }

  .status-pill.ready {
    @apply bg-emerald-100 text-emerald-700;
  }

  .status-pill.out {
    @apply bg-blue-100 text-blue-700;
  }

  .status-pill.delivered {
    @apply bg-slate-100 text-slate-700;
  }

  .profile-card {
    @apply grid gap-4 bg-card border border-border p-5 mb-3;
    border-radius: 16px;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }

  .profile-layout {
    @apply grid gap-6 items-start;
    grid-template-columns: 280px minmax(0, 1fr);
  }

  .profile-fields-card {
    @apply bg-card border border-border p-5;
    border-radius: 18px;
  }

  .profile-fields-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .profile-photo-card {
    @apply bg-card border border-border p-5 flex flex-col gap-4 items-center;
    border-radius: 18px;
  }

  .profile-photo-card .profile-avatar-preview {
    width: 96px;
    height: 96px;
  }

  .profile-photo-meta {
    @apply text-center text-sm text-muted;
  }

  .profile-photo-meta strong {
    @apply block text-base text-ink;
  }

  .profile-photo-actions {
    @apply w-full flex flex-col gap-3;
  }

  .profile-actions {
    @apply flex items-center justify-start;
  }

  .profile-card>div {
    @apply flex flex-col gap-1;
  }

  .profile-card>label {
    @apply flex flex-col gap-2;
  }

  .profile-label {
    @apply text-xs text-muted block;
  }

  .profile-value {
    @apply text-base font-semibold block;
  }

  .section-hint {
    @apply text-sm text-muted rounded-lg border border-border bg-bg/70 px-3 py-2;
  }

  .modal-overlay {
    @apply fixed inset-0 bg-black/40 opacity-0 pointer-events-none transition-opacity duration-200 z-50 flex items-center justify-center p-4;
  }

  .modal-overlay.open {
    @apply opacity-100 pointer-events-auto;
  }

  .modal {
    @apply bg-card w-full max-w-lg p-6 flex flex-col;
    border-radius: 20px;
    box-shadow: var(--shadow-card);
    max-height: calc(100vh - 48px);
    overflow: hidden;
  }

  .modal-header {
    @apply flex items-center justify-between mb-4;
  }

  .close-modal {
    @apply text-muted text-2xl leading-none;
  }

  .modal-body {
    @apply text-sm text-muted;
  }

  .modal-body p {
    @apply m-0;
  }

  .modal-footer {
    @apply flex items-center justify-end gap-3 mt-4;
  }

  .modal-content {
    @apply flex-1 overflow-y-auto pr-1;
    min-height: 0;
  }

  .form {
    @apply flex flex-col gap-4;
  }

  .form>label:not(.checkbox):not(.radio-card) {
    @apply text-sm text-muted font-semibold;
  }

  .view-table td {
    @apply text-sm;
  }

  .hint {
    @apply text-xs text-muted;
  }

  .modal-hint {
    @apply mb-4 rounded-lg border border-border bg-bg/70 px-3 py-2;
  }

  .receipt-preview {
    @apply bg-card border border-border rounded-2xl p-4 text-ink;
    box-shadow: var(--shadow-soft);
    max-width: 420px;
    margin: 0 auto;
  }

  .receipt-header {
    @apply flex items-center justify-between gap-3 mb-3;
  }

  .receipt-brand {
    @apply flex items-center gap-3;
  }

  .receipt-logo {
    @apply w-12 h-12 rounded-xl bg-accent text-white flex items-center justify-center font-bold;
    overflow: hidden;
  }

  .receipt-logo-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .receipt-brand-text {
    @apply grid text-right;
  }

  .receipt-brand-text strong {
    @apply text-sm font-bold;
  }

  .receipt-brand-text span {
    @apply text-xs text-muted;
  }

  .receipt-meta {
    @apply flex flex-col text-left text-xs text-muted;
  }

  .receipt-info {
    @apply grid gap-2 text-sm;
  }

  .receipt-line {
    @apply flex items-center justify-between gap-3;
  }

  .receipt-divider {
    @apply border-t border-dashed border-border my-3;
  }

  .receipt-table {
    @apply w-full text-xs;
  }

  .receipt-table th,
  .receipt-table td {
    @apply px-0 py-2;
    border-bottom: 1px dashed var(--color-border);
  }

  .receipt-table th {
    position: static;
    background: transparent;
  }

  .receipt-totals {
    @apply mt-3 border-t border-dashed border-border pt-3 text-sm;
  }

  .receipt-total-line {
    @apply flex items-center justify-between;
  }

  .receipt-total-line.grand {
    @apply text-base font-semibold;
  }

  .receipt-notes {
    @apply text-xs text-muted mt-3;
  }

  .receipt-footer {
    @apply text-xs text-muted text-center mt-4;
  }

  .primary {
    @apply inline-flex max-w-max items-center gap-2 px-4 py-2 bg-accent text-white font-semibold transition;
    border-radius: var(--radius-control);
    box-shadow: var(--shadow-soft);
  }

  .primary:hover {
    @apply bg-accent-dark;
  }

  .danger-btn {
    @apply inline-flex max-w-max items-center gap-2 px-4 py-2 bg-red-500 text-white font-semibold transition;
    border-radius: var(--radius-control);
  }

  .danger-btn:hover {
    @apply bg-red-600;
  }

  .ghost {
    @apply inline-flex items-center gap-2 px-4 py-2 border border-border bg-card text-ink;
    border-radius: var(--radius-control);
  }

  .ghost.small {
    @apply px-3 py-1 text-xs;
  }

  .row-actions {
    @apply flex items-center gap-2;
  }

  .section-footer {
    @apply mt-4 flex items-center justify-between;
  }

  .danger-zone {
    @apply rounded-xl p-5;
    border: 1px solid var(--color-danger-border);
    background: color-mix(in oklab, var(--color-danger-bg) 78%, transparent);
  }

  .danger-zone h3 {
    @apply mb-2;
    color: var(--color-danger-ink);
  }

  .danger-card {
    border: 1px solid var(--color-danger-border);
    background: color-mix(in oklab, var(--color-danger-bg) 78%, transparent);
  }

  .reset-steps {
    @apply list-none p-0 m-0 grid gap-3 text-sm text-muted;
  }

  .reset-steps li::before {
    content: "â€¢ ";
    @apply text-accent;
  }

  .danger-box {
    @apply p-4 text-sm;
    border: 1px solid var(--color-danger-border);
    background: color-mix(in oklab, var(--color-danger-bg-soft) 86%, transparent);
    border-radius: var(--radius-control);
  }

  .danger-box p {
    @apply mt-2;
  }

  .confirm-phrase {
    @apply mt-2 bg-card px-3 py-2 text-center font-bold;
    border: 1px solid var(--color-danger-border);
    color: var(--color-danger-ink);
    border-radius: var(--radius-control);
  }

  .checkbox {
    @apply flex items-start gap-3 text-sm text-muted leading-6;
  }

  .checkbox input {
    margin-top: 4px;
    width: 18px;
    height: 18px;
    flex-shrink: 0;
    accent-color: #e06d4c;
  }

  .permissions-pills {
    @apply flex flex-wrap gap-2;
  }

  .permissions-pills .pill {
    @apply rounded-full border border-border bg-card px-3 py-1 text-xs;
  }

  .settings-actions {
    @apply flex flex-wrap gap-3;
  }

  .profile-edit-form {
    @apply flex flex-col gap-4 mt-4;
  }

  .profile-edit-form .profile-card {
    @apply mb-0;
  }

  .profile-avatar-block {
    @apply flex flex-wrap items-center gap-4 border border-border bg-card/70 p-4;
    border-radius: 16px;
  }

  .profile-avatar-preview {
    @apply w-20 h-20 rounded-2xl bg-accent/15 text-accent flex items-center justify-center overflow-hidden text-2xl font-semibold;
  }

  .profile-avatar-preview img {
    @apply w-full h-full object-cover;
  }

  .profile-avatar-fields {
    @apply flex flex-col gap-3 flex-1 min-w-[220px];
  }

  .branding-form {
    @apply flex flex-col gap-6 mt-4;
  }

  .branding-section {
    @apply border border-border bg-bg/70 p-4 flex flex-col gap-4;
    border-radius: 18px;
  }

  .branding-section-header {
    @apply flex items-start justify-between gap-3;
  }

  .branding-section-header h3 {
    @apply text-sm font-semibold m-0;
  }

  .branding-section-header p {
    @apply text-xs text-muted m-0;
  }

  .branding-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .advanced-details {
    @apply mt-4 border border-border bg-bg/70 p-4;
    border-radius: 16px;
  }

  .advanced-details summary {
    @apply cursor-pointer font-semibold text-sm text-ink;
  }

  .advanced-details[open] summary {
    @apply mb-3;
  }

  .branding-preview {
    @apply flex items-center gap-3 bg-card/80 border border-border px-4 py-3;
    border-radius: 14px;
  }

  .branding-logo {
    @apply w-12 h-12 rounded-xl bg-accent/15 text-accent flex items-center justify-center overflow-hidden;
  }

  .branding-logo img {
    @apply w-full h-full object-cover;
  }

  .branding-text {
    @apply flex flex-col;
  }

  .branding-text span {
    @apply text-xs text-muted;
  }

  .branding-actions {
    @apply flex flex-wrap items-center justify-between gap-3;
  }

  .password-form {
    @apply flex flex-col gap-4 mt-3 max-w-sm;
  }

  .color-input {
    @apply grid items-center gap-2;
    grid-template-columns: 44px minmax(0, 1fr) 36px;
  }

  .color-input input[type="color"] {
    @apply w-11 h-11 border border-border bg-card;
    border-radius: 12px;
    padding: 2px;
    cursor: pointer;
  }

  .color-input input[type="color"]::-webkit-color-swatch-wrapper {
    padding: 0;
  }

  .color-input input[type="color"]::-webkit-color-swatch {
    border: none;
    border-radius: 10px;
  }

  .color-input input[type="text"] {
    @apply w-full font-mono tracking-wide;
  }

  .color-preview {
    @apply w-9 h-9 border border-border shadow-sm;
    border-radius: 999px;
  }

  .opacity-input {
    @apply flex items-center gap-2;
  }

  .opacity-input span {
    @apply text-xs text-muted min-w-[64px];
  }

  .opacity-input input[type="range"] {
    @apply flex-1;
  }

  .opacity-input input[type="number"] {
    @apply w-20;
  }

  .backup-toolbar {
    @apply mt-5 gap-3;
  }

  .settings-page .card,
  .backup-page .card {
    @apply p-7 mb-0;
  }

  .settings-page .modal,
  .backup-page .modal {
    @apply p-7;
    max-width: 640px;
  }

  .settings-page .modal-footer,
  .backup-page .modal-footer {
    @apply mt-6;
  }

  .settings-page .section-hint,
  .backup-page .section-hint {
    @apply mt-4 leading-7;
  }

  .settings-page {
    @apply gap-5;
  }

  .settings-page .card>h2,
  .backup-page .card>h2 {
    @apply mb-3;
  }

  .settings-page .section-header-actions,
  .backup-page .section-header-actions {
    @apply mb-3;
  }

  .settings-page .table-toolbar,
  .backup-page .table-toolbar {
    @apply gap-2.5;
  }

  .settings-page .settings-actions,
  .settings-page .permissions-pills {
    @apply mt-2;
  }

  .settings-page table,
  .backup-page table {
    @apply mt-3;
  }

  .settings-page .modal .form,
  .backup-page .modal .form {
    @apply gap-4;
  }

  .settings-page .modal .radio-group {
    @apply mt-1;
  }

  .settings-page .modal .danger-box,
  .backup-page .modal .danger-box {
    @apply mt-1;
  }

  .settings-page .modal .checkbox,
  .backup-page .modal .checkbox {
    @apply mt-1;
  }

  .settings-danger-card {
    @apply mt-2;
  }

  .radio-group {
    @apply grid gap-3;
  }

  .reset-form {
    @apply gap-5;
  }

  .radio-card {
    @apply flex items-start gap-3 border border-border bg-card p-4 cursor-pointer;
    border-radius: var(--radius-control);
  }

  .radio-card input {
    margin-top: 2px;
    width: 18px;
    height: 18px;
    flex-shrink: 0;
    accent-color: #e06d4c;
  }

  .radio-card div {
    @apply flex flex-col gap-1;
  }

  .radio-card strong {
    @apply text-sm text-ink;
  }

  .radio-card span {
    @apply text-sm text-muted leading-6;
  }

  .role-permissions-grid {
    @apply grid gap-2;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  }

  .recipe-editor {
    @apply border border-border rounded-xl bg-card/80 p-3 flex flex-col gap-2;
  }

  .recipe-header {
    @apply grid gap-2 text-xs text-muted font-semibold px-2;
    grid-template-columns: 1.5fr 0.8fr 0.6fr 0.8fr 0.4fr;
  }

  .recipe-row {
    @apply grid gap-2 items-center bg-card border border-border rounded-xl p-2;
    grid-template-columns: 1.5fr 0.8fr 0.6fr 0.8fr 0.4fr;
  }

  .recipe-row select,
  .recipe-row input {
    @apply w-full;
  }

  .recipe-unit,
  .recipe-cost {
    @apply text-sm text-muted;
  }

  .recipe-summary {
    @apply flex items-center justify-between text-sm font-semibold px-2 pt-2;
  }

  .permission-pill {
    @apply w-full inline-flex items-center justify-center gap-2 px-4 py-2 border border-border bg-card text-ink text-sm font-medium transition;
    border-radius: var(--radius-control);
    box-shadow: var(--shadow-soft);
  }

  .permission-pill:hover {
    @apply border-accent/50 bg-accent/5;
  }

  .permission-pill.active {
    @apply bg-accent text-white border-accent;
  }

  .primary.large {
    @apply px-5 py-3 text-base;
  }

  .list .nav-item {
    @apply text-ink bg-card border border-border;
  }

  .toast-host {
    @apply fixed left-6 bottom-6 flex flex-col gap-2 z-[60];
  }

  .toast {
    @apply bg-card border border-border px-4 py-3 text-sm;
    border-radius: var(--radius-control);
    box-shadow: var(--shadow-soft);
  }

  .toast.success {
    @apply border-emerald-200 bg-emerald-50 text-emerald-700;
  }

  .toast.error {
    @apply border-red-200 bg-red-50 text-red-700;
  }
}

@media (max-width: 1100px) {
  .sticky-actions {
    display: flex;
  }

  .content {
    @apply p-8;
  }

  .kpis-3 {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }
}

@media (max-width: 900px) {
  .pos-page {
    --pos-shell-height: auto;
    min-height: 0;
  }

  .pos-layout {
    grid-template-columns: 1fr;
    height: auto;
    min-height: 0;
  }

  .menu-panel {
    position: static;
  }

  .busy-tables-drawer {
    height: 86%;
  }

  .profile-layout {
    grid-template-columns: 1fr;
  }

  .profile-photo-card {
    order: 0;
  }

  .setup-hero {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .app {
    grid-template-columns: 1fr;
  }

  .sidebar {
    @apply fixed top-0 bottom-0 right-0 w-72 translate-x-full transition-transform duration-200;
  }

  .sidebar.open {
    @apply translate-x-0;
  }

  .content {
    @apply p-5;
  }

  .topbar {
    @apply flex-col items-start gap-4;
  }

  .topbar-actions {
    @apply w-full flex-col items-start;
  }

  .profile-dropdown {
    @apply right-0;
    left: auto;
  }

  .users-manage .table-toolbar {
    @apply flex-col items-start gap-4;
  }

  .users-manage .table-actions-export {
    @apply w-full justify-between;
  }

  .users-manage .table-actions-export .ghost {
    @apply w-full justify-center;
  }
}
